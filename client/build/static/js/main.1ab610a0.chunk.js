(this["webpackJsonpi-think-you-should-meme"]=this["webpackJsonpi-think-you-should-meme"]||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var c,o,a=t(0),i=t.n(a),r=t(26),s=t.n(r),l=(t(37),t(10)),d=(t(38),t(12)),b=t(6),h=t(3),u=t(4),j=Object(u.a)(c||(c=Object(h.a)(["\n    body {\n        background-color: #282c34;\n    }\n    h1 {\n        color: white;\n        text-decoration: none;\n        font-size: 1.5em;\n        font-family: 'Cooper Black';\n    }\n"]))),p=t(1),m=u.b.img(o||(o=Object(h.a)(["\n    width: 100%;\n    max-height: 100%;\n\n"])));var x,f=function(e){var n=e.data;return Object(p.jsx)(d.b,{to:"/screenshots/".concat(n.episode,"/").concat(n.screenshot_key),children:Object(p.jsx)(m,{src:n.url})})},O=u.b.div(x||(x=Object(h.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1em;\n    max-width: 90%;\n    margin: 1em auto;\n    @media only screen and (min-width: 768px) {\n        grid-template-columns: repeat(4, 1fr)\n    }\n"])));var g=function(e){var n=e.images.map((function(e){return Object(p.jsx)(f,{data:e})}));return Object(p.jsx)(O,{children:n})};var y,w,v,k,S=function(e){var n=e.searching,t=e.results;return n?Object(p.jsx)("h1",{children:"Loading..."}):Object(p.jsx)(g,{images:t})},C=t(32),B=t(30),F=t(31),z=Object(u.b)(d.b)(y||(y=Object(h.a)(["\n    color: white;\n    text-decoration: none;\n    font-family: 'Cooper Black';\n    font-size: 1.3em;\n    margin: 1em;\n    -webkit-text-stroke: 1px black;\n    :hover {\n        text-shadow: -2px 2px 0px black;\n    }\n"]))),q=t(24),A=u.b.div(w||(w=Object(h.a)(["\n    margin: .5em 0;\n    color: white !important;\n"]))),D=u.b.button(v||(v=Object(h.a)(["\n    font-family: 'Cooper Black';\n    font-size: 2em;\n    background: transparent;\n    margin: 1em;\n    border: none;\n    color: white;\n    cursor: pointer;\n    -webkit-text-stroke: 1px black;\n    :hover {\n        text-shadow: -4px 4px 0px black;\n    }\n"]))),E=u.b.div(k||(k=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: flex-end;\n    padding: 2em;\n    box-sizing: border-box;\n"])));var I,L,R,T,P,M,Q=function(e){var n=e.captionDisplay,t=e.setCaptionDisplay,c=e.captionFont,o=e.setCaptionFont,a=e.handleSubmit;return Object(p.jsxs)(E,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(A,{children:Object(p.jsx)(q.a,{checked:"block"===n,onChange:function(){return t("block"===n?"none":"block")},labelLeft:"Show caption"})})}),Object(p.jsx)("div",{children:"block"===n&&Object(p.jsx)(A,{children:Object(p.jsx)(q.a,{checked:"Cooper Black"===c,onChange:function(){return o("Cooper Black"===c?"Arial Black":"Cooper Black")},labelLeft:"Fancy font"})})}),Object(p.jsx)("div",{style:{width:"100%"},children:Object(p.jsx)(D,{onClick:function(){return a()},children:"Download"})})]})},_=u.b.p(I||(I=Object(h.a)(["\n    color: white;\n    font-size: 1.4em;\n    position: absolute;\n    margin: 0;\n    top: 80%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 100%;\n    font-family: ",";\n    -webkit-text-stroke: 1px black;\n    display: ",";\n    @media only screen and (min-width: 830px) {\n        font-size: 1.8em;\n    }\n"])),(function(e){return e.font}),(function(e){return e.display})),J=u.b.div(L||(L=Object(h.a)(["\n    width: 80%;\n    margin: auto;\n    @media only screen and (min-width: 830px) {\n        width: 90%;\n    }\n"]))),N=u.b.div(R||(R=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    @media only screen and (min-width: 830px) {\n        flex-direction: row;\n    }\n"]))),Y=u.b.div(T||(T=Object(h.a)(["\n    width: 100%;\n    overflow: hidden;\n    @media only screen and (min-width: 830px) {\n        min-width: 50%;\n    }\n"]))),U=Object(u.b)(Y)(P||(P=Object(h.a)(["\n    position: relative;\n    text-align: center;\n"]))),G=u.b.section(M||(M=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])));var H=function(){var e=Object(a.useState)({}),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)([]),i=Object(l.a)(o,2),r=i[0],s=i[1],d=Object(a.useState)("block"),h=Object(l.a)(d,2),u=h[0],j=h[1],m=Object(a.useState)("Cooper Black"),x=Object(l.a)(m,2),f=x[0],O=x[1],y=Object(b.g)();return Object(a.useEffect)((function(){console.log("fetching!"),fetch("http://localhost:9000".concat(window.location.pathname),{mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){c(e.filter((function(e){return e.screenshot_key===parseInt(window.location.pathname.split("/")[3],10)}))[0]),s(e.filter((function(e){return e.screenshot_key!==parseInt(window.location.pathname.split("/")[3],10)})))})).catch((function(e){return console.log("Error: ".concat(e))}))}),[y]),Object(p.jsxs)(G,{children:[Object(p.jsxs)(z,{to:"/",children:[Object(p.jsx)(B.a,{icon:F.a})," ","Back to search"]}),Object(p.jsx)(J,{children:Object(p.jsxs)(N,{children:[Object(p.jsxs)(U,{id:"target-image",children:[Object(p.jsx)("img",{src:t.url,alt:t.text,style:{width:"100%"}}),Object(p.jsx)(_,{display:u,font:f,contentEditable:!0,children:t.text})]}),Object(p.jsx)(Q,{captionDisplay:u,setCaptionDisplay:j,captionFont:f,setCaptionFont:O,handleSubmit:function(){var e="ITYSM-".concat(t.timestamp,"-").concat(Math.floor(1e4*Math.random()));Object(C.a)(document.getElementById("target-image"),{quality:.95}).then((function(n){var t=document.createElement("a");t.download="".concat(e,".jpeg"),t.href=n,t.click()}))}})]})}),Object(p.jsx)(g,{images:r})]})};var K,V=function(e){var n=e.setResults,t=e.setQuery;return Object(p.jsx)(d.b,{style:{textDecoration:"none"},onClick:function(){n([]),t(null)},to:"/",children:Object(p.jsx)("h1",{children:"I Think You Should Meme"})})},W=u.b.input(K||(K=Object(h.a)(["\nborder-radius: 50px;\nheight: 2em;\nwidth: 80%;\nmargin: .75em;\npadding: .5em 2em;\nborder: none;\n"])));var X,Z=function(e){var n=e.query,t=e.setQuery,c=e.setResults,o=e.setSearching,i=Object(b.g)(),r=Object(b.f)();return Object(a.useEffect)((function(){var e=new URL(window.location);e.searchParams.set("q",n),null!==n&&"/"===i.pathname?(window.history.pushState({},"",e),n.length>2&&(o(!0),fetch("http://localhost:9000/search?".concat(e.searchParams),{mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){c(e),o(!1)})).catch((function(e){return console.log(e)})))):(e.searchParams.delete("q"),window.history.pushState({},"",e),document.querySelector('input[type="text"]').value="")}),[n,i]),Object(p.jsx)(W,{onChange:function(e){r.replace("/"),e.target.value.length>0?t(e.target.value):(t(null),c([]))},type:"text",placeholder:"Search by quote (e.g., 'Stanzo brand fedoras,' 'Taffy Lee Fubbins,' 'Shut up, Paul.'"})},$=u.b.header(X||(X=Object(h.a)(["\n    background-color: #282c34;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n    box-sizing: border-box;\n    @media only screen and (min-width: 768px) {\n        flex-direction: row;\n        padding: 1em;\n    }\n"])));var ee=function(e){var n=Object(a.useState)(null),t=Object(l.a)(n,2),c=t[0],o=t[1],i=e.setResults,r=e.setSearching;return Object(p.jsxs)($,{className:"App-header",children:[Object(p.jsx)(V,{setResults:i,setQuery:o,query:c}),Object(p.jsx)(Z,{history:window.history,setResults:i,query:c,setQuery:o,setSearching:r})]})};var ne=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),r=i[0],s=i[1];return Object(p.jsxs)(d.a,{children:[Object(p.jsx)(j,{}),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(ee,{setResults:c,setSearching:s}),Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{path:"/screenshots/:episode/:timestamp",children:Object(p.jsx)(H,{images:t})}),Object(p.jsx)(b.a,{exact:!0,path:"/",children:Object(p.jsx)(S,{results:t,searching:r})})]})]})]})},te=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),o(e),a(e),i(e)}))};s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(ne,{})}),document.getElementById("root")),te()}},[[52,1,2]]]);
//# sourceMappingURL=main.1ab610a0.chunk.js.map